name: Emit event on push
on: push

jobs:
  build:
    name: External workflow dispatch
    runs-on: ubuntu-latest
    steps:
      - name: Emit repository_dispatch
        uses: mvasigh/dispatch-action@0d773ee965532cdbfb1f5bf8976551619068b124
        with:
          token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}
          repo: "@"
          event_type: sample_push
          payload: |
            {
              "foo": "bar",
              "num": 124
            }
